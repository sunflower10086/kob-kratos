syntax = "proto3";

package kob_kratos.v1;

option go_package = "kob-kratos/api/backend/v1;v1";

import "google/api/annotations.proto";
import "validate/validate.proto";

// 排行榜服务
service RankService {
  rpc GetRankList(GetRankListRequest) returns (GetRankListResponse) {
    option (google.api.http) = {
      get: "/api/rank/getlist"
    };
  }
}

// 排行榜相关消息定义
message GetRankListRequest {
  int32 page = 1 [(validate.rules).int32.gt = 0, json_name = "page"];
  int32 page_size = 2 [(validate.rules).int32.gt = 0, json_name = "page_size"];
}

message GetRankListResponse {
  int32 page = 1 [json_name = "page"];
  int32 page_size = 2 [json_name = "page_size"];
  repeated RankUser users = 3 [json_name = "users"];
  int64 total = 4 [json_name = "total"];
}

message RankUser {
  int32 id = 1 [(validate.rules).int32.gt = 0, json_name = "id"];
  string photo = 2 [json_name = "photo"];
  string username = 3 [json_name = "username"];
  int32 rating = 4 [json_name = "rating"];
  int32 number = 5 [json_name = "number"];
}